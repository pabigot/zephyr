# Copyright (c) 2020 Nordic Semiconductor ASA
# SPDX-License-Identifier: Apache-2.0

description: |
    Nordic nRF family RADIO

    dfegpio[n]-gpios properties provide GPIO pins to the radio peripheral. These
    GPIO pins are used to drive antennas switching by Radio Direction Finding
    Extension. E.g. to use 12 antennas 4 GPIO pins must be provided;
    4 GPIO pins support switching up to 16 antennas.

    The dfegpio[n] properties are used to initialize the PSEL.DFEGPIO[n]
    registers. None of the dfegpio[n]-gpios properties are marked required,
    since which Radio PSEL.DFEGPIO[n] registers will be used to drive antenna
    switches depends on the use case.

    Nevertheless, at least two antennas must be available. That means at
    least one dfegpio[n]-gpios property must be provided, to give the radio
    the possibility to switch between two antennas.

compatible: "nordic,nrf-radio"

include: [base.yaml]

properties:
    reg:
      required: true

    interrupts:
      required: true

    has-802154:
      type: boolean
      description: |
        Indicates whether the radio has 802.15.4 protocol support.

    has-dfe:
      type: boolean
      description: |
        Indicates whether the radio supports the BLE Direction Finding
        Extension.

    dfe-ant-num:
      type: int
      required: false
      description: |
        Number of available antennas.

        Value zero means no antenna available. If provided value different than
        zero, it must be greater or equal to two.

        This property must be present if and only if has-dfe is true.

    dfegpio0-gpios:
      type: phandle-array
      required: false
      description: |
        Pin select for DFE pin 0

        Flags cell in the property is not used for GPIO pin initialization
        and should be set to zero.

        This property must be absent if has-dfe is false.

    dfegpio1-gpios:
      type: phandle-array
      required: false
      description: |
        Pin select for DFE pin 1

        Flags cell in the property is not used for GPIO pin initialization
        and should be set to zero.

        This property must be absent if has-dfe is false.

    dfegpio2-gpios:
      type: phandle-array
      required: false
      description: |
        Pin select for DFE pin 2

        Flags cell in the property is not used for GPIO pin initialization
        and should be set to zero.

        This property must be absent if has-dfe is false.

    dfegpio3-gpios:
      type: phandle-array
      required: false
      description: |
        Pin select for DFE pin 3

        Flags cell in the property is not used for GPIO pin initialization
        and should be set to zero.

        This property must be absent if has-dfe is false.

    dfegpio4-gpios:
      type: phandle-array
      required: false
      description: |
        Pin select for DFE pin 4

        Flags cell in the property is not used for GPIO pin initialization
        and should be set to zero.

        This property must be absent if has-dfe is false.

    dfegpio5-gpios:
      type: phandle-array
      required: false
      description: |
        Pin select for DFE pin 5

        Flags cell in the property is not used for GPIO pin initialization
        and should be set to zero.

        This property must be absent if has-dfe is false.

    dfegpio6-gpios:
      type: phandle-array
      required: false
      description: |
        Pin select for DFE pin 6

        Flags cell in the property is not used for GPIO pin initialization
        and should be set to zero.

        This property must be absent if has-dfe is false.

    dfegpio7-gpios:
      type: phandle-array
      required: false
      description: |
        Pin select for DFE pin 7

        Flags cell in the property is not used for GPIO pin initialization
        and should be set to zero.

        This property must be absent if has-dfe is false.
